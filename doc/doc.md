# 支付宝SDK 文档

## 签名

首先，支付宝的验签流程跟大体流程跟各大厂商的对接方式基本相同，都是排序-编码-计算签名的流程，只不过具体的步骤上有所不同。

其次，支付宝的签名方式有两种，分别是普通公钥和公钥证书的方式。普通公钥，不需要证书， 只需要AppId和Private Key即可。公钥证书方式，需要用户上传CSR文件生成商户公钥证书和应用私钥，具体参看[官方文档](https://docs.open.alipay.com/291/105971)

支付宝支持的两种签名算法RSA和RSA2，对应的加密方式分别是sha1和sha256。官方没有提供Python版本的演示，可以参考本模块中的comm模块部分。

## 请求方式

在前面将经过签名的参数和计算出来的签名sign，拼接成url的方式，然后提交请求。这里有个官方文档没有指明的步骤，需要将各个参数中的值再经过一次urlencode再提交，否则服务器会告诉你签名不通过。

## 沙箱环境

沙箱环境只支持rsa2的签名算法。

## 异步验签

需要使用支付宝公钥